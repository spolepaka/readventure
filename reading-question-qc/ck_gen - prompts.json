[
  {
    "function": "generate",
    "name": "MCQ DOK 1",
    "level": "mcq",
    "prompt": "You are generating a DOK 1 multiple choice question for {grade_level} reading assessment using a provided example as a template.\nText Section/Passage:\n{text_content}\nTarget Standard: {standard_code} - {standard_description}\nDOK Level: 1 (Recall and Reproduction)\nQuestion Type: Multiple Choice\nExample Question (Same Standard, DOK, Difficulty):\nQuestion: {example_question}\nA) {example_choice_a}\nB) {example_choice_b}\nC) {example_choice_c}\nD) {example_choice_d}\nCorrect Answer: {example_correct}\nExisting Questions to Avoid Duplication:\n{existing_questions}\nTask: Use the example question as a template to create a new question for the provided text.\nTemplate Analysis Instructions:\n1. Question Structure: Identify the question pattern and phrasing style from the example\n2. Content Focus: Note what specific type of information the example asks for\n3. Answer Choice Pattern: Observe the structure and style of the example's choices\n4. Cognitive Level: Ensure your question matches the same DOK 1 recall level\nDOK 1 Requirements:\n- Test recall of basic facts, definitions, or details\n- Require simple recognition or identification\n- Ask for information directly stated in the text\n- No inference or analysis required\nAdaptation Process:\n1. Identify the question type and structure from the example\n2. Find equivalent information in your provided text\n3. Adapt the question wording to fit your text content\n4. Create answer choices that match the example's style and structure\n5. Ensure one choice is clearly correct based on the text\n6. Make distractors plausible but clearly wrong\n\n## Quality Requirements (CRITICAL - All Must Be Met)\n\n### Question Quality:\n1. **Template Fidelity**: Follow the example's question structure and style\n2. **Text Dependency**: Must require reading the passage to answer - cannot be answered with general knowledge alone\n3. **Grade Appropriate**: Use vocabulary and concepts suitable for {grade_level}\n4. **Clear and Precise**: Unambiguous question with one correct answer\n5. **Standard Alignment**: Question must directly assess the specific skill in the target standard\n\n### Answer Choice Quality:\n6. **Plausible Distractors**: Wrong answers should be believable but clearly incorrect\n7. **Grammatical Parallelism**: All choices MUST follow the same grammatical structure\n8. **Homogeneity**: All choices MUST belong to the same conceptual category\n   - If asking about word meaning → all choices must be possible definitions\n   - If asking about a character → all choices must be character-related (traits, actions, feelings)\n   - If asking about main idea → all choices must be potential main ideas\n   - Do NOT mix character traits with setting details, or themes with specific facts\n9. **Specificity Balance**: All choices MUST have similar levels of detail\n   - GOOD: \"happy\", \"sad\", \"angry\", \"worried\" (all single emotion words)\n   - BAD: \"sad\" vs \"experiencing deep melancholy\" vs \"feeling blue\" (different detail levels)\n   - Do NOT have one overly specific choice among general ones\n10. **Length Balance**: Choices should maintain similar character length\n    - The correct answer must NOT be the longest option\n    - The correct answer must NOT be significantly shorter than all distractors (aim for 70-110% of distractor lengths)\n11. **Semantic Distance**: Distractors must NOT be synonyms or near-synonyms of the correct answer\n    - AVOID: correct=\"happy\" with distractor=\"joyful\" (too similar)\n    - Each distractor should represent a distinctly different concept\n\nOutput Format:\n```json\n{\n  \"question\": \"exact question text adapted from the example template\",\n  \"choices\": {\n    \"A\": \"first choice following example's style\",\n    \"B\": \"second choice following example's style\", \n    \"C\": \"third choice following example's style\",\n    \"D\": \"fourth choice following example's style\"\n  },\n  \"correct_answer\": \"A\",\n  \"DOK\": 1,\n  \"CCSS\": \"standard code\",\n  \"template_adaptation\": \"brief explanation of how you adapted the example to fit your text\",\n  \"rationale\": \"brief explanation of why this answer is correct\",\n  \"quality_verification\": {\n    \"homogeneity_check\": \"all choices are [category type]\",\n    \"specificity_check\": \"all choices are at [detail level]\",\n    \"length_check\": \"correct answer length is appropriate relative to distractors\"\n  }\n}\n```\nInstructions: Generate exactly one DOK 1 multiple choice question that follows the example's template structure while adapting the content to assess the target standard using the provided text. Ensure ALL quality requirements are met."
  },
  {
    "function": "generate",
    "name": "MCQ DOK 2",
    "level": "mcq",
    "prompt": "You are generating a DOK 2 multiple choice question for {grade_level} reading assessment using a provided example as a template.\nText Section/Passage:\n{text_content}\nTarget Standard: {standard_code} - {standard_description}\nDOK Level: 2 (Skills and Concepts)\nQuestion Type: Multiple Choice\nExample Question (Same Standard, DOK, Difficulty):\nQuestion: {example_question}\nA) {example_choice_a}\nB) {example_choice_b}\nC) {example_choice_c}\nD) {example_choice_d}\nCorrect Answer: {example_correct}\nExisting Questions to Avoid Duplication:\n{existing_questions}\nTask: Use the example question as a template to create a new question for the provided text.\nTemplate Analysis Instructions:\n1. Question Structure: Identify the question pattern and cognitive demand from the example\n2. Inference Type: Note what kind of reasoning or application the example requires\n3. Answer Choice Logic: Observe how choices represent different levels of understanding\n4. Cognitive Process: Ensure your question matches the same DOK 2 application level\nDOK 2 Requirements:\n- Apply skills and concepts to make basic inferences\n- Classify, organize, or compare information\n- Make connections between ideas\n- Demonstrate understanding beyond simple recall\nAdaptation Process:\n1. Identify the cognitive process required by the example (inference, comparison, classification, etc.)\n2. Find equivalent information or relationships in your provided text\n3. Adapt the question structure to target the same cognitive process with your content\n4. Create answer choices that reflect different levels of understanding\n5. Ensure the correct choice requires the same type of reasoning as the example\n6. Make distractors represent reasonable misconceptions or partial understanding\n\n## Quality Requirements (CRITICAL - All Must Be Met)\n\n### Question Quality:\n1. **Template Fidelity**: Follow the example's cognitive demand and question structure\n2. **Inference Required**: Cannot be answered by simple recall alone\n3. **Text Dependency**: Must require reading and understanding the passage - cannot be answered with general knowledge\n4. **Clear and Precise**: Unambiguous question with one correct answer\n5. **Standard Alignment**: Question must directly assess the specific skill in the target standard\n6. **Cognitive Match**: Should require the same type of thinking as the example\n\n### Answer Choice Quality:\n7. **Plausible Distractors**: Wrong answers should represent reasonable misconceptions\n8. **Grammatical Parallelism**: All choices MUST follow the same grammatical structure\n9. **Homogeneity**: All choices MUST belong to the same conceptual category\n   - If asking about character motivation → all choices must be possible motivations\n   - If asking about cause-effect → all choices must be possible causes or effects\n   - If asking about inference → all choices must be possible inferences\n   - Do NOT mix different concept types (e.g., character traits with plot events)\n10. **Specificity Balance**: All choices MUST have similar levels of detail\n    - All choices should be at the same level of abstraction\n    - Do NOT mix general statements with highly specific details\n    - Do NOT have one technical term among casual language\n11. **Length Balance**: Choices should maintain similar character length\n    - The correct answer must NOT be the longest option\n    - The correct answer must NOT be significantly shorter than all distractors\n12. **Semantic Distance**: Distractors must NOT be synonyms or near-synonyms of the correct answer\n    - Each option should represent a distinctly different interpretation or conclusion\n    - AVOID options that differ only in degree (e.g., \"somewhat worried\" vs \"very worried\")\n\nOutput Format:\n```json\n{\n  \"question\": \"exact question text adapted from the example template\",\n  \"choices\": {\n    \"A\": \"first choice reflecting the example's reasoning patterns\",\n    \"B\": \"second choice reflecting the example's reasoning patterns\", \n    \"C\": \"third choice reflecting the example's reasoning patterns\",\n    \"D\": \"fourth choice reflecting the example's reasoning patterns\"\n  },\n  \"correct_answer\": \"B\",\n  \"DOK\": 2,\n  \"CCSS\": \"standard code\",\n  \"template_adaptation\": \"explanation of how you adapted the example's cognitive process to your text\",\n  \"cognitive_process\": \"what type of DOK 2 thinking this question requires (matching the example)\",\n  \"rationale\": \"explanation of why this answer requires DOK 2 reasoning\",\n  \"quality_verification\": {\n    \"homogeneity_check\": \"all choices are [category type]\",\n    \"specificity_check\": \"all choices are at [detail level]\",\n    \"semantic_distance_check\": \"each option represents a distinct concept\"\n  }\n}\n```\nInstructions: Generate exactly one DOK 2 multiple choice question that follows the example's cognitive template while adapting the content to require the same type of reasoning using the provided text. Ensure ALL quality requirements are met."
  },
  {
    "function": "generate",
    "name": "MCQ DOK 3",
    "level": "mcq",
    "prompt": "You are generating a DOK 3 multiple choice question for {grade_level} reading assessment using a provided example as a template.\nText Section/Passage:\n{text_content}\nTarget Standard: {standard_code} - {standard_description}\nDOK Level: 3 (Strategic Thinking)\nQuestion Type: Multiple Choice\nExample Question (Same Standard, DOK, Difficulty):\nQuestion: {example_question}\nA) {example_choice_a}\nB) {example_choice_b}\nC) {example_choice_c}\nD) {example_choice_d}\nCorrect Answer: {example_correct}\nExisting Questions to Avoid Duplication:\n{existing_questions}\nTask: Use the example question as a template to create a new question for the provided text.\nTemplate Analysis Instructions:\n1. Strategic Thinking Pattern: Identify what type of analysis, evaluation, or synthesis the example requires\n2. Question Complexity: Note the sophisticated reasoning process the example demands\n3. Evidence Integration: Observe how the example requires connecting multiple text elements\n4. Depth Level: Ensure your question matches the same DOK 3 strategic thinking level\nDOK 3 Requirements:\n- Require strategic thinking and reasoning\n- Analyze, evaluate, or synthesize information\n- Draw conclusions based on evidence\n- Make complex inferences or connections\n- Demonstrate deep understanding\nAdaptation Process:\n1. Identify the strategic thinking process required by the example (analysis of purpose, evaluation of evidence, synthesis of themes, etc.)\n2. Find equivalent complex relationships or deep concepts in your provided text\n3. Adapt the question structure to target the same strategic thinking process\n4. Create answer choices that represent different levels of analytical sophistication\n5. Ensure the correct choice requires the same depth of reasoning as the example\n6. Make distractors represent sophisticated but incomplete analysis\n\n## Quality Requirements (CRITICAL - All Must Be Met)\n\n### Question Quality:\n1. **Template Fidelity**: Follow the example's strategic thinking demand and analytical structure\n2. **Strategic Thinking**: Must require analysis, evaluation, or synthesis matching the example\n3. **Evidence-Based**: Answer should be supported by multiple text clues like the example\n4. **Text Dependency**: Must require reading and deep understanding of the passage\n5. **Standard Alignment**: Question must directly assess the specific skill in the target standard\n6. **Complex Reasoning**: Goes beyond simple inference to sophisticated analysis\n7. **Depth Match**: Should require the same level of strategic thinking as the example\n\n### Answer Choice Quality:\n8. **Plausible Distractors**: Should represent sophisticated misconceptions or partial analysis\n9. **Grammatical Parallelism**: All choices MUST follow the same grammatical structure\n10. **Homogeneity**: All choices MUST belong to the same conceptual category\n    - If asking about author's purpose → all choices must be possible purposes\n    - If asking about theme → all choices must be possible themes\n    - If asking about analysis → all choices must be analytical statements\n    - Do NOT mix analysis types (e.g., theme with plot summary)\n11. **Specificity Balance**: All choices MUST have similar levels of analytical depth\n    - All should be equally sophisticated statements\n    - Do NOT mix surface-level observations with deep analysis\n12. **Length Balance**: Choices should maintain similar character length\n    - The correct answer must NOT be the longest option\n    - The correct answer must NOT be significantly shorter than all distractors\n13. **Semantic Distance**: Distractors must NOT be synonyms or slight variations of the correct answer\n    - Each should represent a distinctly different analytical conclusion\n    - AVOID options that could both be considered correct with slight interpretation differences\n\nOutput Format:\n```json\n{\n  \"question\": \"exact question text adapted from the example template\",\n  \"choices\": {\n    \"A\": \"first choice reflecting sophisticated analytical options\",\n    \"B\": \"second choice reflecting sophisticated analytical options\", \n    \"C\": \"third choice reflecting sophisticated analytical options\",\n    \"D\": \"fourth choice reflecting sophisticated analytical options\"\n  },\n  \"correct_answer\": \"C\",\n  \"DOK\": 3,\n  \"CCSS\": \"standard code\",\n  \"template_adaptation\": \"explanation of how you adapted the example's strategic thinking process to your text\",\n  \"strategic_thinking_type\": \"what type of DOK 3 analysis this requires (matching the example pattern)\",\n  \"evidence_integration\": \"how this question requires connecting multiple text elements like the example\",\n  \"rationale\": \"detailed explanation of why this answer requires strategic thinking\",\n  \"quality_verification\": {\n    \"homogeneity_check\": \"all choices are [analytical category type]\",\n    \"specificity_check\": \"all choices are at [same analytical depth]\",\n    \"semantic_distance_check\": \"each option represents a distinct analytical conclusion\"\n  }\n}\n```\nInstructions: Generate exactly one DOK 3 multiple choice question that follows the example's strategic thinking template while adapting the content to require the same depth of analysis using the provided text. Ensure ALL quality requirements are met."
  },
  {
    "function": "generate",
    "name": "SR DOK 1",
    "level": "short_response",
    "prompt": "You are generating a DOK 1 short response question for {grade_level} reading assessment.\nText Section/Passage:\n{text_content}\nTarget Standard: {standard_code} - {standard_description}\nDOK Level: 1 (Recall and Reproduction)\nQuestion Type: Short Response\nExisting Questions to Avoid Duplication:\n{existing_questions}\nDOK 1 Requirements:\n- Test recall of basic facts, definitions, or details\n- Require simple identification or listing\n- Ask for information directly stated in the text\n- No analysis or complex explanation required\nShort Response Characteristics:\n- Expected answer length: 1-2 sentences\n- Should require specific text evidence\n- Student must locate and extract information\n- Minimal interpretation required\nQuality Requirements:\n1. Text Dependency: Must require reading passage to answer\n2. Specific Evidence: Should prompt for particular details or examples\n3. Grade Appropriate: Language and expectations suitable for {grade_level}\n4. Clear Scoring: Answers should be objectively verifiable\n5. Focused Response: Should have a clear, limited scope\n6. Standard Alignment: Must directly assess the target standard's specific skill\nSample Rubric Expectations:\n- 2 points: Complete, accurate answer with specific text evidence\n- 1 point: Partially correct answer or missing some evidence\n- 0 points: Incorrect or no evidence from text\nOutput Format:\n```json\n{\n  \"question\": \"exact question text including any specific instructions\",\n  \"expected_response\": \"sample complete response showing what a full-credit answer would include\",\n  \"key_details\": [\"detail 1\", \"detail 2\", \"detail 3\"],\n  \"scoring_notes\": \"brief guidance on what constitutes a complete answer\",\n  \"dok_justification\": \"explanation of why this is DOK 1\"\n}\n```\nInstructions: Generate exactly one DOK 1 short response question that requires students to recall and cite specific information from the text to assess the target standard."
  },
  {
    "function": "generate",
    "name": "SR DOK 2",
    "level": "short_response",
    "prompt": "You are generating a DOK 2 short response question for {grade_level} reading assessment.\nText Section/Passage:\n{text_content}\nTarget Standard: {standard_code} - {standard_description}\nDOK Level: 2 (Skills and Concepts)\nQuestion Type: Short Response\nExisting Questions to Avoid Duplication:\n{existing_questions}\nDOK 2 Requirements:\n- Apply skills and concepts to make basic inferences\n- Classify, organize, or compare information\n- Make connections between ideas\n- Explain simple relationships or processes\nShort Response Characteristics:\n- Expected answer length: 2-3 sentences\n- Should require inference or application\n- Student must explain their reasoning\n- Connects multiple pieces of information\nCognitive Processes for DOK 2:\n- Making basic inferences from text evidence\n- Explaining simple cause-and-effect relationships\n- Comparing or contrasting elements\n- Organizing information logically\n- Applying understanding to explain concepts\nQuality Requirements:\n1. Inference Required: Cannot be answered by simple recall alone\n2. Text Evidence: Must cite specific examples or details\n3. Explanation Expected: Student should explain their thinking\n4. Clear Criteria: Scoring should be based on clear, achievable standards\n5. Grade Appropriate: Expectations match {grade_level} capabilities\n6. Standard Alignment: Must directly assess the target standard's specific skill\nSample Rubric Expectations:\n- 2 points: Clear inference/application with appropriate text evidence and explanation\n- 1 point: Partial inference or weak evidence/explanation\n- 0 points: No clear inference or insufficient text evidence\nOutput Format:\n```json\n{\n  \"question\": \"exact question text including any specific instructions about evidence or explanation\",\n  \"expected_response\": \"sample complete response showing inference/application with text evidence\",\n  \"key_concepts\": [\"concept 1\", \"concept 2\"],\n  \"required_evidence\": [\"type of evidence needed\", \"another type\"],\n  \"scoring_notes\": \"guidance on what constitutes complete inference and adequate evidence\",\n  \"dok_justification\": \"explanation of what skill/concept application this question requires\"\n}\n```\nInstructions: Generate exactly one DOK 2 short response question that requires students to make inferences or apply concepts while providing text evidence to assess the target standard."
  },
  {
    "function": "generate",
    "name": "SR DOK 3",
    "level": "short_response",
    "prompt": "You are generating a DOK 3 short response question for {grade_level} reading assessment.\nText Section/Passage:\n{text_content}\nTarget Standard: {standard_code} - {standard_description}\nDOK Level: 3 (Strategic Thinking)\nQuestion Type: Short Response\nExisting Questions to Avoid Duplication:\n{existing_questions}\nDOK 3 Requirements:\n- Require strategic thinking and reasoning\n- Analyze, evaluate, or synthesize information\n- Draw complex conclusions based on evidence\n- Make sophisticated connections across text\n- Demonstrate deep understanding\nShort Response Characteristics:\n- Expected answer length: 3-4 sentences\n- Should require analysis or evaluation\n- Student must synthesize multiple text elements\n- Demonstrates complex understanding\nCognitive Processes for DOK 3:\n- Analyzing author's purpose or craft decisions\n- Evaluating effectiveness of text elements\n- Synthesizing information from multiple parts\n- Drawing complex conclusions with evidence\n- Making sophisticated text-to-text connections\n- Recognizing implicit themes or messages\nQuality Requirements:\n1. Strategic Thinking: Must require analysis, evaluation, or synthesis\n2. Multiple Text Elements: Should connect different parts of the passage\n3. Complex Reasoning: Goes beyond simple inference to sophisticated analysis\n4. Evidence Integration: Must synthesize multiple pieces of evidence\n5. Grade-Appropriate Depth: Challenging but achievable for {grade_level}\n6. Standard Alignment: Must directly assess the target standard's specific skill\nSample Rubric Expectations:\n- 2 points: Clear analysis/evaluation with well-integrated evidence and sophisticated reasoning\n- 1 point: Some analysis with adequate evidence but less sophisticated reasoning\n- 0 points: Little analysis or insufficient evidence integration\nOutput Format:\n```json\n{\n  \"question\": \"exact question text with clear expectations for analysis/evaluation\",\n  \"expected_response\": \"sample response demonstrating strategic thinking with integrated evidence\",\n  \"analysis_focus\": \"what aspect should be analyzed/evaluated\",\n  \"evidence_requirements\": [\"type 1\", \"type 2\", \"connections needed\"],\n  \"scoring_notes\": \"guidance on recognizing strategic thinking and evidence integration\",\n  \"dok_justification\": \"explanation of the strategic thinking process this question requires\"\n}\n```\nInstructions: Generate exactly one DOK 3 short response question that requires students to analyze, evaluate, or synthesize information with integrated text evidence to assess the target standard."
  },
  {
    "function": "generate",
    "name": "SR DOK 4",
    "level": "short_response",
    "prompt": "You are generating a DOK 4 short response question for {grade_level} reading assessment.\nText Section/Passage:\n{text_content}\nTarget Standard: {standard_code} - {standard_description}\nDOK Level: 4 (Extended Thinking)\nQuestion Type: Short Response\nExisting Questions to Avoid Duplication:\n{existing_questions}\nDOK 4 Requirements:\n- Require extended thinking over time\n- Complex analysis across multiple sources or extended text\n- Synthesize and apply knowledge in new situations\n- Create original connections or solutions\n- Demonstrate sophisticated reasoning\nShort Response Characteristics:\n- Expected answer length: 4-5 sentences\n- Should require complex synthesis or creation\n- Student must make original connections\n- Demonstrates extended reasoning process\nCognitive Processes for DOK 4:\n- Creating original applications or extensions\n- Synthesizing across multiple sources or experiences\n- Designing solutions or alternatives\n- Making complex comparative analyses\n- Developing original interpretations\n- Applying understanding to new contexts\nQuality Requirements:\n1. Extended Thinking: Must require sustained reasoning beyond single concept\n2. Original Application: Should ask for creation or extension of ideas\n3. Complex Synthesis: Connects passage with broader knowledge or experiences\n4. Sophisticated Reasoning: Demonstrates deep understanding and original thinking\n5. Grade-Appropriate Challenge: Ambitious but achievable for advanced {grade_level} students\n6. Standard Alignment: Must directly assess the target standard's specific skill\nSample Rubric Expectations:\n- 2 points: Original, creative response with sophisticated reasoning and clear text connections\n- 1 point: Some original thinking with adequate reasoning and text connections\n- 0 points: Limited original thinking or weak connections to text\nOutput Format:\n```json\n{\n  \"question\": \"exact question text that prompts extended thinking and original application\",\n  \"expected_response\": \"sample response showing extended reasoning and original connections\",\n  \"thinking_process\": \"what extended cognitive process is required\",\n  \"synthesis_elements\": [\"element 1\", \"element 2\", \"creative component\"],\n  \"scoring_notes\": \"guidance on recognizing extended thinking and original applications\",\n  \"dok_justification\": \"explanation of why this requires extended thinking and complex reasoning\"\n}\n```\nInstructions: Generate exactly one DOK 4 short response question that requires students to engage in extended thinking, synthesis, or original application while assessing the target standard."
  },
  {
    "function": "generate",
    "name": "MP DOK 2",
    "level": "multipart",
    "prompt": "You are generating a DOK 2 multipart question for {grade_level} reading assessment.\nText Section/Passage:\n{text_content}\nTarget Standard: {standard_code} - {standard_description}\nDOK Level: 2 (Skills and Concepts)\nQuestion Type: Multipart\nExisting Questions to Avoid Duplication:\n{existing_questions}\nDOK 2 Requirements:\n- Apply skills and concepts to make basic inferences\n- Classify, organize, or compare information\n- Make connections between ideas\n- Demonstrate understanding through multiple steps\nMultipart Structure:\n- Part A: Foundation question (often recall or basic inference)\n- Part B: Application question that builds on Part A\n- Both parts should work together to assess the standard\n- Combined difficulty should reach DOK 2 level\nStandard-Specific Examples:\n- RI.3.2: Part A: \"What is the main topic of this passage?\" Part B: \"Which two details best support this main topic?\"\n- RI.3.8: Part A: \"What is the first step in the process?\" Part B: \"How does this first step connect to the final result?\"\n- RL.3.3: Part A: \"What problem does the character face?\" Part B: \"How do the character's actions help solve this problem?\"\n\n## Quality Requirements (CRITICAL - All Must Be Met)\n\n### Question Quality:\n1. **Connected Parts**: Part B should build meaningfully on Part A\n2. **Progressive Difficulty**: Part A establishes foundation, Part B requires application\n3. **Text Dependency**: Both parts must require passage comprehension - cannot be answered with general knowledge\n4. **Clear Scoring**: Each part should have distinct, measurable expectations\n5. **Cumulative Assessment**: Together they should fully assess the target standard\n6. **Standard Alignment**: Both parts must directly assess the target standard's specific skill\n\n### Answer Choice Quality (for both Part A and Part B):\n7. **Plausible Distractors**: Wrong answers should be believable but clearly incorrect\n8. **Grammatical Parallelism**: All choices MUST follow the same grammatical structure\n9. **Homogeneity**: All choices MUST belong to the same conceptual category\n   - Do NOT mix different concept types within one part\n10. **Specificity Balance**: All choices MUST have similar levels of detail\n    - All choices should be at the same level of abstraction\n11. **Length Balance**: Choices should maintain similar character length\n    - The correct answer must NOT be the longest option\n    - The correct answer must NOT be significantly shorter than all distractors\n12. **Semantic Distance**: Distractors must NOT be synonyms or near-synonyms of the correct answer\n\nOutput Format:\n```json\n{\n  \"part_a\": {\n    \"question\": \"exact text for Part A\",\n    \"choices\": {\n      \"A\": \"first choice\",\n      \"B\": \"second choice\", \n      \"C\": \"third choice\",\n      \"D\": \"fourth choice\"\n    },\n    \"correct_answer\": \"A\",\n    \"DOK\": 1,\n    \"CCSS\": \"standard code\",\n    \"quality_verification\": {\n      \"homogeneity_check\": \"all choices are [category]\",\n      \"specificity_check\": \"all at [detail level]\"\n    }\n  },\n  \"part_b\": {\n    \"question\": \"exact text for Part B\",\n    \"choices\": {\n      \"A\": \"first choice\",\n      \"B\": \"second choice\", \n      \"C\": \"third choice\",\n      \"D\": \"fourth choice\"\n    },\n    \"correct_answer\": \"B\",\n    \"DOK\": 2,\n    \"CCSS\": \"standard code\",\n    \"quality_verification\": {\n      \"homogeneity_check\": \"all choices are [category]\",\n      \"specificity_check\": \"all at [detail level]\"\n    }\n  },\n  \"connection_rationale\": \"explanation of how Part B builds on Part A\",\n  \"dok_justification\": \"explanation of why the combined question reaches DOK 2\",\n  \"standard_assessment\": \"how this multipart question assesses the target standard\"\n}\n```\nInstructions: Generate exactly one DOK 2 multipart question where Part A establishes a foundation and Part B requires application or reasoning that builds on Part A to assess the target standard. Ensure ALL quality requirements are met for both parts."
  },
  {
    "function": "generate",
    "name": "MP DOK 3",
    "level": "multipart",
    "prompt": "You are generating a DOK 3 multipart question for {grade_level} reading assessment.\nText Section/Passage:\n{text_content}\nTarget Standard: {standard_code} - {standard_description}\nDOK Level: 3 (Strategic Thinking)\nQuestion Type: Multipart\nExisting Questions to Avoid Duplication:\n{existing_questions}\nDOK 3 Requirements:\n- Require strategic thinking and reasoning\n- Analyze, evaluate, or synthesize information\n- Draw complex conclusions based on evidence\n- Make sophisticated connections across text\nMultipart Structure:\n- Part A: Analysis or inference question\n- Part B: Strategic thinking question that extends Part A\n- Both parts should work together to demonstrate deep understanding\n- Combined difficulty should reach DOK 3 level\nStandard-Specific Examples:\n- RI.3.6: Part A: \"What is the author's main purpose in writing this passage?\" Part B: \"How do the author's word choices in the first and last paragraphs support this purpose?\"\n- RI.3.8: Part A: \"What conclusion can be drawn about the importance of each step in the process?\" Part B: \"What piece of evidence from the passage best supports your answer to the previous question?\"\n- RL.3.3: Part A: \"How do the character's feelings change throughout the story?\" Part B: \"Which quotation from the text best supports your answer to the previous question?\"\n\n## Quality Requirements (CRITICAL - All Must Be Met)\n\n### Question Quality:\n1. **Strategic Connection**: Part B should require sophisticated reasoning beyond Part A\n2. **Deep Analysis**: Combined parts should demonstrate thorough understanding\n3. **Evidence Integration**: Both parts should require synthesizing multiple text elements\n4. **Complex Reasoning**: Part B should extend thinking in meaningful ways\n5. **Standard Mastery**: Together they should comprehensively assess the target standard\n6. **Text Dependency**: Both parts must require reading the passage - cannot be answered with general knowledge\n\n### Answer Choice Quality (for both Part A and Part B):\n7. **Plausible Distractors**: Wrong answers should be believable but clearly incorrect\n8. **Grammatical Parallelism**: All choices MUST follow the same grammatical structure\n9. **Homogeneity**: All choices MUST belong to the same conceptual category\n   - If asking about theme → all choices must be possible themes\n   - If asking about evidence → all choices must be evidence statements\n   - Do NOT mix different concept types\n10. **Specificity Balance**: All choices MUST have similar levels of analytical depth\n    - All should be equally sophisticated statements\n11. **Length Balance**: Choices should maintain similar character length\n    - The correct answer must NOT be the longest option\n    - The correct answer must NOT be significantly shorter than all distractors\n12. **Semantic Distance**: Distractors must NOT be synonyms, near-synonyms, or slight variations of the correct answer\n    - Each should represent a distinctly different analytical conclusion\n\nOutput Format:\n```json\n{\n  \"part_a\": {\n    \"question\": \"exact text for Part A requiring analysis or complex inference\",\n    \"choices\": {\n      \"A\": \"first choice\",\n      \"B\": \"second choice\", \n      \"C\": \"third choice\",\n      \"D\": \"fourth choice\"\n    },\n    \"correct_answer\": \"A\",\n    \"DOK\": 2,\n    \"CCSS\": \"standard code\",\n    \"quality_verification\": {\n      \"homogeneity_check\": \"all choices are [category]\",\n      \"specificity_check\": \"all at [analytical depth]\"\n    }\n  },\n  \"part_b\": {\n    \"question\": \"exact text for Part B requiring strategic thinking that builds on Part A\",\n    \"choices\": {\n      \"A\": \"first choice\",\n      \"B\": \"second choice\", \n      \"C\": \"third choice\",\n      \"D\": \"fourth choice\"\n    },\n    \"correct_answer\": \"A\",\n    \"DOK\": 3,\n    \"CCSS\": \"standard code\",\n    \"quality_verification\": {\n      \"homogeneity_check\": \"all choices are [category]\",\n      \"specificity_check\": \"all at [analytical depth]\"\n    }\n  },\n  \"strategic_connection\": \"explanation of how Part B requires strategic thinking beyond Part A\",\n  \"dok_justification\": \"explanation of the strategic thinking process required across both parts\",\n  \"standard_assessment\": \"how this multipart question demonstrates comprehensive mastery of the target standard\"\n}\n```\nInstructions: Generate exactly one DOK 3 multipart question where Part A requires analysis and Part B requires strategic thinking that builds on and extends Part A to comprehensively assess the target standard. Ensure ALL quality requirements are met for both parts."
  },
  {
    "function": "quality_control",
    "name": "grammatical_parallel",
    "level": "distractors",
    "prompt": "You are evaluating whether answer choices have consistent grammatical structure.\nQuestion: {question}\nAnswer Choices:\nA) {choice_A}\nB) {choice_B}\nC) {choice_C}\nD) {choice_D}\nTask: Determine if all choices follow the same grammatical pattern.\nExamples of GOOD parallelism:\nAll infinitive phrases: \"to make\", \"to carry\", \"to take\", \"to hold\"\nAll single words: \"happy\", \"sad\", \"angry\", \"excited\"\nAll noun phrases: \"the main character\", \"the setting\", \"the conflict\", \"the theme\"\nAll complete sentences: \"He was tired.\", \"He was hungry.\", \"He was lost.\", \"He was scared.\"\nExamples of BAD parallelism:\nMixed structures: \"to make\", \"carrying\", \"he takes\", \"holds it\"\nMixed lengths: \"run\", \"walking quickly\", \"to jump over the fence\", \"swimming\"\nIMPORTANT: Your goal is to fail questions that are unfair due to the grammatical structure of their options. Minor variations are to be accepted as long as they do not provide an unfair advantage or disadvantage.\n\nInstructions:\nEvaluate ONLY grammatical consistency. Return exactly one number:\n1 if all choices follow the same grammatical pattern\n0 if choices have inconsistent grammatical structures\n<quality_check>\n<score>1</score>\n<reasoning>Brief explanation of why all choices do or do not meet the criteria</reasoning>\n</quality_check>\n\nScore: 1 if criteria are met, 0 if criteria are not met"
  },
  {
    "function": "quality_control",
    "name": "plausibility",
    "level": "distractors",
    "prompt": "You are evaluating whether incorrect answer choices are plausible distractors.\nPassage: {passage}\nQuestion: {question}\nAnswer Choices:\nA) {choice_A}\nB) {choice_B}\nC) {choice_C}\nD) {choice_D}\nCorrect Answer: {correct_answer}\nTask: Evaluate if each INCORRECT choice is a believable wrong answer.\nGOOD distractors:\nRepresent common misconceptions\nAre logically related to the question\nCould reasonably fool a student who partially understands\nBAD distractors:\nAre obviously wrong to any reasonable student\nAre completely unrelated to the question topic\nAre \"throwaway\" options with no educational value\nInstructions:\nConsider only the incorrect choices. Return exactly one number:\n1 if all incorrect choices are plausible distractors\n0 if any incorrect choice is obviously wrong or unrelated\n<quality_check>\n<score>1</score>\n<reasoning>Brief explanation of why all choices do or do not meet the criteria</reasoning>\n</quality_check>\n\nScore: 1 if criteria are met, 0 if criteria are not met"
  },
  {
    "function": "quality_control",
    "name": "homogeneity",
    "level": "distractors",
    "prompt": "You are evaluating whether all answer choices belong to the same conceptual category.\nQuestion: {question}\nAnswer Choices:\nA) {choice_A}\nB) {choice_B}\nC) {choice_C}\nD) {choice_D}\nTask: Determine if all choices address the same type of concept.\nGOOD homogeneity examples:\nWord meaning question → All choices are possible definitions\nCharacter motivation question → All choices are possible motivations\nText structure question → All choices are structural elements\nMain idea question → All choices are potential main ideas\nBAD homogeneity examples:\nWord meaning question → Mix of definitions and plot events\nCharacter question → Mix of character traits and setting details\nMain idea question → Mix of themes and specific facts\nInstructions:\nReturn exactly one number:\n1 if all choices belong to the same conceptual category\n0 if choices span different conceptual categories\n<quality_check>\n<score>1</score>\n<reasoning>Brief explanation of why all choices do or do not meet the criteria</reasoning>\n</quality_check>\n\nScore: 1 if criteria are met, 0 if criteria are not met"
  },
  {
    "function": "quality_control",
    "name": "specificity_balance",
    "level": "distractors",
    "prompt": "You are evaluating whether answer choices have similar levels of detail and specificity.\nQuestion: {question}\nAnswer Choices:\nA) {choice_A}\nB) {choice_B}\nC) {choice_C}\nD) {choice_D}\nTask: Determine if choices are at similar specificity levels.\nGOOD specificity balance:\nAll general: \"happy\", \"sad\", \"angry\", \"worried\"\nAll specific: \"photosynthesis\", \"respiration\", \"transpiration\", \"germination\"\nAll at same detail level: \"ran quickly\", \"walked slowly\", \"jumped high\", \"crawled carefully\"\nBAD specificity balance:\nMixed levels: \"sad\" vs \"experiencing deep melancholy\" vs \"blue\"\nOne outlier: Three simple words + one complex phrase\nTechnical vs casual: \"H2O\" vs \"water\" vs \"liquid\" vs \"beverage\"\nInstructions:\nReturn exactly one number:\n1 if all choices are at similar levels of specificity/detail\n0 if there are significant differences in specificity levels\n<quality_check>\n<score>1</score>\n<reasoning>Brief explanation of why all choices do or do not meet the criteria</reasoning>\n</quality_check>\n\nScore: 1 if criteria are met, 0 if criteria are not met"
  },
  {
    "function": "quality_control",
    "name": "too_close",
    "level": "distractors",
    "prompt": "You are evaluating whether any distractors are semantically too close to the correct answer.\nPassage: {passage}\nQuestion: {question}\nAnswer Choices:\nA) {choice_A}\nB) {choice_B}\nC) {choice_C}\nD) {choice_D}\nCorrect Answer: {correct_answer}\nGrade Level: {grade}\n\nTask: Determine if any distractor is TOO CLOSE to the correct answer.\n\nA distractor is TOO CLOSE if:\n1. **Synonymous or Near-Synonymous**: Uses different wording but conveys essentially the same meaning\n   - Example: correct=\"elated\" with distractor=\"thrilled\" (too similar)\n2. **Degree-Only Difference**: Differs only in degree/intensity when the passage doesn't clearly establish the distinction\n   - Example: correct=\"somewhat worried\" with distractor=\"very worried\" (too similar)\n3. **Equally Text-Supported**: Both correct answer and distractor are equally supported by passage evidence\n4. **Double-Key Risk**: Two options could both be considered correct based on reasonable interpretation\n5. **Grade-Inappropriate Distinction**: The distinction requires knowledge beyond the target grade level\n\nGOOD semantic distance:\n- Correct=\"to persuade\" vs distractors=\"to inform\", \"to entertain\", \"to describe\" (distinct purposes)\n- Correct=\"brave\" vs distractors=\"selfish\", \"lazy\", \"confused\" (distinct traits)\n\nBAD semantic distance (TOO CLOSE):\n- Correct=\"happy\" vs distractor=\"joyful\" (synonyms)\n- Correct=\"the story teaches kindness\" vs distractor=\"the story shows being nice\" (same meaning)\n- Correct=\"worried\" vs distractor=\"anxious\" (near-synonyms)\n\nInstructions:\nReturn exactly one number:\n1 if all distractors are semantically distinct from the correct answer\n0 if any distractor is too close to the correct answer\n<quality_check>\n<score>1</score>\n<reasoning>Brief explanation identifying any too-close distractors or confirming all are distinct</reasoning>\n</quality_check>\n\nScore: 1 if criteria are met, 0 if criteria are not met"
  },
  {
    "function": "quality_control",
    "name": "standard_alignment",
    "level": "question",
    "prompt": "You are evaluating whether this question properly assesses the assigned learning standard.\nPassage: {passage}\nQuestion: {question}\nStandard: {standard_code} - {standard_description}\nDOK Level: {dok}\nAnswer Choices:\nA) {choice_A}\nB) {choice_B}\nC) {choice_C}\nD) {choice_D}\nCommon Standards (Examples):\nRI.3.1: Ask and answer questions to demonstrate understanding, referring explicitly to text\nRI.3.2: Determine the main idea; recount key details\nRI.3.4: Determine meaning of words/phrases in text\nRL.3.1: Ask and answer questions about key details\nRL.3.3: Describe characters and explain how their actions contribute to story events\nTask: Determine if this question directly assesses the assigned standard.\nInstructions:\nCompare what the question is testing against what the standard requires. The question must directly assess the standard's specific skill, not a tangentially related skill.\nReturn exactly one number:\n1 if the question directly and appropriately assesses the assigned standard\n0 if the question assesses a different skill or misaligns with the standard\n<quality_check>\n<score>1</score>\n<reasoning>Brief explanation of why all choices do or do not meet the criteria</reasoning>\n</quality_check>\n\nScore: 1 if criteria are met, 0 if criteria are not met"
  },
  {
    "function": "quality_control",
    "name": "clarity_precision",
    "level": "question",
    "prompt": "You are evaluating whether this question is clearly written and unambiguous.\nPassage: {passage}\nQuestion: {question}\nAnswer Choices:\nA) {choice_A}\nB) {choice_B}\nC) {choice_C}\nD) {choice_D}\nClarity Issues to Check:\nAmbiguous pronouns (unclear \"it\", \"this\", \"that\", \"they\")\nDouble negatives\nOverly complex sentence structure\nVague or imprecise language\nMultiple possible interpretations\nUnnecessary wordiness\nTask: Determine if the question is clear and precise.\nInstructions:\nEvaluate whether a student would understand exactly what is being asked. The question should have one clear interpretation and be written at appropriate complexity for the grade level.\nReturn exactly one number:\n1 if the question is clear, precise, and unambiguous\n0 if the question has clarity issues that could confuse students\n<quality_check>\n<score>1</score>\n<reasoning>Brief explanation of why all choices do or do not meet the criteria</reasoning>\n</quality_check>\n\nScore: 1 if criteria are met, 0 if criteria are not met"
  },
  {
    "function": "quality_control",
    "name": "text_dependency",
    "level": "question",
    "prompt": "You are evaluating whether this question requires reading the passage to answer correctly.\nQuestion: {question}\nPassage: {passage}\nAnswer Choices:\nA) {choice_A}\nB) {choice_B}\nC) {choice_C}\nD) {choice_D}\nTask: Determine if the question is truly text-dependent.\nTEXT-DEPENDENT questions:\nCannot be answered without reading the specific passage\nRequire information that is unique to this text\nAsk about passage-specific details, examples, or organization\nReference specific content that varies between texts\nNOT TEXT-DEPENDENT questions:\nCan be answered using general knowledge alone\nAsk about universal concepts not specific to the passage\nCould be answered correctly without reading the text\nTest generic skills rather than passage comprehension\nExamples:\nTEXT-DEPENDENT: \"According to the passage, what three steps are needed to plant the pineapple?\"\nNOT TEXT-DEPENDENT: \"What does the word 'plant' mean?\" (if asking for general definition)\nTEXT-DEPENDENT: \"What does the author compare the pineapple's size to?\"\nNOT TEXT-DEPENDENT: \"Which of these is a type of fruit?\" (general knowledge)\nInstructions:\nDetermine whether a student must read this specific passage to answer the question correctly, or if they could answer it using general knowledge.\nReturn exactly one number:\n1 if the question requires reading the passage to answer correctly\n0 if the question could be answered without reading the passage\n<quality_check>\n<score>1</score>\n<reasoning>Brief explanation of why all choices do or do not meet the criteria</reasoning>\n</quality_check>\n\nScore: 1 if criteria are met, 0 if criteria are not met"
  },
  {
    "function": "quality_control",
    "name": "single_correct_answer",
    "level": "question",
    "prompt": "You are validating that this multiple choice question has exactly one defensibly correct answer.\nQuestion: {question}\nPassage: {passage}\nAnswer Choices:\nA) {choice_A}\nB) {choice_B}\nC) {choice_C}\nD) {choice_D}\nIndicated Correct Answer: {correct_answer}\nTask: Verify there is exactly one correct answer that can be defended based on the passage.\nRed Flags:\nMultiple answers could be argued as correct\nCorrect answer requires unsupported inferences\nQuestion asks for opinions as if they were facts\nPassage contradicts itself on the topic\nInstructions:\nBased on the passage, determine if exactly one answer is clearly correct and the others are clearly incorrect.\nReturn exactly one number:\n1 if there is exactly one defensibly correct answer\n0 if multiple answers could be correct or no answer is clearly correct\n<quality_check>\n<score>1</score>\n<reasoning>Brief explanation of why all choices do or do not meet the criteria</reasoning>\n</quality_check>\n\nScore: 1 if criteria are met, 0 if criteria are not met"
  },
  {
    "function": "quality_control",
    "name": "passage_reference",
    "level": "question",
    "prompt": "You are verifying that specific passage references in the question are accurate and exist.\nQuestion: {question}\nPassage: {passage}\nTask: Verify that any specific references to passage elements are accurate.\nTypes of References to Check:\nParagraph numbers (e.g., \"In paragraph 3...\")\nLine numbers (e.g., \"Line 15 shows...\")\nSection titles (e.g., \"The section titled 'Getting Started'...\")\nSpecific quotes or phrases referenced\nPage numbers or other structural elements\nVerification Process:\n1. Identify any specific structural references in the question\n2. Check if those elements actually exist in the passage\n3. Confirm the references are accurate and accessible\nExamples of GOOD references:\n\"In paragraph 2...\" when passage has 4 paragraphs\n\"The section titled 'Materials Needed'...\" when that section exists\n\"According to the last paragraph...\" when referring to final paragraph\nExamples of BAD references:\n\"In paragraph 5...\" when passage only has 3 paragraphs\n\"The section titled 'Conclusion'...\" when no such section exists\n\"Line 20...\" when passage only has 15 lines\nInstructions:\nCheck if all specific passage references in the question are accurate and correspond to actual elements in the passage.\nReturn exactly one number:\n1 if all passage references are accurate and exist; OR if the question does not contain passage references\n0 if any passage reference is inaccurate or doesn't exist\n<quality_check>\n<score>1</score>\n<reasoning>Brief explanation of why all choices do or do not meet the criteria</reasoning>\n</quality_check>\n\nScore: 1 if criteria are met, 0 if criteria are not met"
  },
  {
    "function": "quality_control",
    "name": "difficulty_assessment",
    "level": "question",
    "prompt": "You are evaluating whether this question is appropriate for the target grade level.\nPassage: {passage}\nQuestion: {question}\nAnswer Choices:\nA) {choice_A}\nB) {choice_B}\nC) {choice_C}\nD) {choice_D}\nCorrect Answer: {correct_answer}\nTarget Grade: {grade}\nDOK Level: {dok}\n\nTask: Assess whether the question difficulty is appropriate for the target grade level.\n\nAssessment Dimensions:\n\n1. **Level of Inference Required**:\n   - LOW: Answer is directly stated in text\n   - MODERATE: Requires connecting 2-3 pieces of information\n   - HIGH: Requires synthesis across multiple parts or abstract reasoning\n\n2. **Distractor Difficulty**:\n   - WEAK: Distractors are obviously wrong\n   - PLAUSIBLE: Distractors could fool students with partial understanding\n   - STRONG: Distractors require careful analysis to eliminate\n\n3. **Vocabulary Complexity**:\n   - Is the vocabulary appropriate for the grade level?\n   - Are any terms too advanced or too simple?\n\n4. **Cognitive Demand**:\n   - Does the cognitive demand match the stated DOK level?\n   - Is it appropriate for students at this grade?\n\nGrade Level Expectations:\n- Grades 3-5: Concrete concepts, explicit information, basic inferences\n- Grades 6-8: Abstract concepts, implicit information, moderate inferences\n- Grades 9-10: Complex analysis, synthesis, sophisticated reasoning\n\nInstructions:\nReturn exactly one number:\n1 if the question difficulty is appropriate for the target grade level\n0 if the question is too easy or too hard for the target grade level\n<quality_check>\n<score>1</score>\n<reasoning>Brief assessment of difficulty appropriateness with specific observations</reasoning>\n</quality_check>\n\nScore: 1 if criteria are met, 0 if criteria are not met"
  },
  {
    "function": "quality_control",
    "name": "skill_integration",
    "level": "question_set",
    "prompt": "You are evaluating whether this question set covers multiple reading competencies appropriately.\nQuestion Set: {question_count} questions\nStandards Represented: {standards_list}\nQuestions:\n{questions_list}\nTask: Determine if the question set spans multiple reading competencies.\nRequired Reading Competencies:\nLITERAL COMPREHENSION: Directly stated information, key details, explicit facts\nINFERENTIAL THINKING: Drawing conclusions, making connections, determining implied meanings\nEVALUATIVE ANALYSIS: Analyzing author's purpose, evaluating evidence, making judgments\nEvaluation Criteria:\nSet should include questions from at least 2 of the 3 competency areas\nNo single competency should dominate (>70% of questions)\nQuestions should collectively assess a range of cognitive skills\nExamples of Competency Types:\nLiteral: \"According to the passage, where does the story take place?\"\nInferential: \"What can you conclude about the character's motivation?\"\nEvaluative: \"Why did the author choose to start with this scene?\"\nInstructions:\nAnalyze the question set to determine if it appropriately spans multiple reading competencies and doesn't focus too narrowly on a single skill area.\nReturn exactly one number:\n1 if the question set appropriately integrates multiple reading competencies\n0 if the set focuses too narrowly on a single competency or lacks variety\n<quality_check>\n<score>1</score>\n<reasoning>Brief explanation of why all choices do or do not meet the criteria</reasoning>\n</quality_check>\n\nScore: 1 if criteria are met, 0 if criteria are not met"
  }
]
